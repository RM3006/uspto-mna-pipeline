{"metadata": {"dbt_schema_version": "https://schemas.getdbt.com/dbt/run-results/v6.json", "dbt_version": "1.11.2", "generated_at": "2026-01-03T14:14:10.276708Z", "invocation_id": "352d0764-f697-48fa-8b8d-9bc5f5f75e4f", "invocation_started_at": "2026-01-03T14:14:03.917781Z", "env": {}}, "results": [{"status": "success", "timing": [{"name": "compile", "started_at": "2026-01-03T14:14:09.424752Z", "completed_at": "2026-01-03T14:14:09.433326Z"}, {"name": "execute", "started_at": "2026-01-03T14:14:09.433987Z", "completed_at": "2026-01-03T14:14:09.434004Z"}], "thread_id": "Thread-2 (worker)", "execution_time": 0.02388763427734375, "adapter_response": {}, "message": null, "failures": null, "unique_id": "model.uspto_dbt.stg_patent_assignments", "compiled": true, "compiled_code": "\n\n\nWITH\n    source AS (\n        SELECT *\n        FROM\n            uspto_db.raw.patent_assignment_xml\n        -- Deduplicate records based on content hash, retaining the latest load\n        QUALIFY\n            ROW_NUMBER()\n                OVER (PARTITION BY MD5(xml_content) ORDER BY loaded_at DESC)\n            = 1\n    ),\n\n    -- Extract the root 'assignment-record' node to simplify downstream parsing\n    xml_root AS (\n        SELECT\n            file_name,\n            loaded_at,\n            XMLGET(xml_content, 'assignment-record') AS record_node\n        FROM source\n    ),\n\n    -- Parse specific fields from the extracted record node\n    parsed AS (\n        SELECT\n            file_name,\n            loaded_at,\n\n            -- Extract core assignment metadata\n            XMLGET(record_node, 'reel-no'):\"$\"::VARCHAR AS reel_number,\n            XMLGET(record_node, 'frame-no'):\"$\"::VARCHAR AS frame_number,\n            XMLGET(record_node, 'conveyance-text'):\"$\"::VARCHAR\n                AS conveyance_text,\n            XMLGET(record_node, 'page-count'):\"$\"::INTEGER AS page_count,\n\n            -- Extract and cast dates, converting from XML string format to Date type\n            TRY_TO_DATE(\n                XMLGET(\n                    XMLGET(record_node, 'recorded-date'), 'date'\n                ):\"$\"::VARCHAR,\n                'YYYYMMDD'\n            ) AS recorded_date,\n            TRY_TO_DATE(\n                XMLGET(\n                    XMLGET(record_node, 'last-update-date'), 'date'\n                ):\"$\"::VARCHAR,\n                'YYYYMMDD'\n            ) AS last_update_date\n        FROM xml_root\n    )\n\nSELECT *\nFROM\n    parsed", "relation_name": "USPTO_DB.ANALYTICS_staging.stg_patent_assignments", "batch_results": null}, {"status": "success", "timing": [{"name": "compile", "started_at": "2026-01-03T14:14:09.412723Z", "completed_at": "2026-01-03T14:14:09.435078Z"}, {"name": "execute", "started_at": "2026-01-03T14:14:09.436078Z", "completed_at": "2026-01-03T14:14:09.436110Z"}], "thread_id": "Thread-1 (worker)", "execution_time": 0.027277231216430664, "adapter_response": {}, "message": null, "failures": null, "unique_id": "model.uspto_dbt.stg_patent_assignees", "compiled": true, "compiled_code": "\n\nWITH\n    source AS (\n        SELECT * FROM uspto_db.raw.patent_assignment_xml\n        -- Deduplicate records based on content hash, keeping the most recently loaded version\n        QUALIFY\n            ROW_NUMBER()\n                OVER (PARTITION BY MD5(xml_content) ORDER BY loaded_at DESC)\n            = 1\n    ),\n\n    -- Flatten the XML structure to create one row per assignee per assignment\n    flattened AS (\n        SELECT\n        -- Extract unique identifiers to maintain relationship with the parent record\n            GET(\n                XMLGET(XMLGET(source.xml_content, 'assignment-record'), 'reel-no'), '$'\n            )::VARCHAR AS reel_number,\n            GET(\n                XMLGET(XMLGET(source.xml_content, 'assignment-record'), 'frame-no'),\n                '$'\n            )::VARCHAR AS frame_number,\n            assignee.value AS assignee_node\n\n        FROM source,\n            -- Explode the 'patent-assignees' array into individual rows\n            LATERAL FLATTEN(\n                input => XMLGET(source.xml_content, 'patent-assignees'):\"$\",\n                outer => true -- Retain records even if no assignees are present\n            ) AS assignee\n    )\n\nSELECT\n    reel_number,\n    frame_number,\n\n    -- Extract specific fields from the flattened assignee node using a macro helper\n    \nCASE\n    -- 1. Handle array structures using the custom UDF to avoid subquery errors\n    WHEN IS_ARRAY(assignee_node) THEN\n    uspto_db.raw.get_xml_array_value(assignee_node, 'name')\n    -- 2. Handle standard single nodes using native XMLGET and cast to text\n    ELSE GET(XMLGET(assignee_node, 'name'),'$')::VARCHAR\nEND\n\n AS assignee_name,\n    \nCASE\n    -- 1. Handle array structures using the custom UDF to avoid subquery errors\n    WHEN IS_ARRAY(assignee_node) THEN\n    uspto_db.raw.get_xml_array_value(assignee_node, 'city')\n    -- 2. Handle standard single nodes using native XMLGET and cast to text\n    ELSE GET(XMLGET(assignee_node, 'city'),'$')::VARCHAR\nEND\n\n AS city,\n    \nCASE\n    -- 1. Handle array structures using the custom UDF to avoid subquery errors\n    WHEN IS_ARRAY(assignee_node) THEN\n    uspto_db.raw.get_xml_array_value(assignee_node, 'state')\n    -- 2. Handle standard single nodes using native XMLGET and cast to text\n    ELSE GET(XMLGET(assignee_node, 'state'),'$')::VARCHAR\nEND\n\n AS state,\n    \nCASE\n    -- 1. Handle array structures using the custom UDF to avoid subquery errors\n    WHEN IS_ARRAY(assignee_node) THEN\n    uspto_db.raw.get_xml_array_value(assignee_node, 'country-name')\n    -- 2. Handle standard single nodes using native XMLGET and cast to text\n    ELSE GET(XMLGET(assignee_node, 'country-name'),'$')::VARCHAR\nEND\n\n AS country\n\nFROM flattened\n-- Filter results to retain valid JSON arrays or valid XML nodes\n-- Exclude invalid artifacts generated during the flattening process\nWHERE\n    (IS_ARRAY(assignee_node) = true)\n    OR (CHECK_XML(assignee_node::VARCHAR) IS null)", "relation_name": "USPTO_DB.ANALYTICS_staging.stg_patent_assignees", "batch_results": null}, {"status": "success", "timing": [{"name": "compile", "started_at": "2026-01-03T14:14:09.428598Z", "completed_at": "2026-01-03T14:14:09.437232Z"}, {"name": "execute", "started_at": "2026-01-03T14:14:09.437850Z", "completed_at": "2026-01-03T14:14:09.437861Z"}], "thread_id": "Thread-3 (worker)", "execution_time": 0.02653050422668457, "adapter_response": {}, "message": null, "failures": null, "unique_id": "model.uspto_dbt.stg_patent_properties", "compiled": true, "compiled_code": "\n\n/* Optimizes performance by pre-extracting nodes before flattening. */\nWITH\n    source AS (\n        SELECT\n        -- Extract unique identifiers early to minimize data volume in downstream operations\n            XMLGET(\n                XMLGET(xml_content, 'assignment-record'), 'reel-no'\n            ):\"$\"::VARCHAR AS reel_number,\n            XMLGET(\n                XMLGET(xml_content, 'assignment-record'), 'frame-no'\n            ):\"$\"::VARCHAR AS frame_number,\n\n            -- Pre-extract the 'patent-properties' node once per file to speed up flattening\n            XMLGET(xml_content, 'patent-properties'):\"$\" AS properties_node\n        FROM uspto_db.raw.patent_assignment_xml\n        -- Deduplicate records based on content hash\n        QUALIFY\n            ROW_NUMBER()\n                OVER (PARTITION BY MD5(xml_content) ORDER BY loaded_at DESC)\n            = 1\n    ),\n\n    flattened_patents AS (\n        SELECT\n            source.reel_number,\n            source.frame_number,\n            p.value AS patent_node\n        FROM source,\n            LATERAL FLATTEN(\n                input =>\n                CASE\n                -- Handle both array and single-node structures using the pre-extracted node\n                    WHEN IS_ARRAY(source.properties_node) THEN source.properties_node\n                    WHEN\n                        source.properties_node IS NOT NULL\n                        THEN ARRAY_CONSTRUCT(source.properties_node)\n                    ELSE ARRAY_CONSTRUCT()\n                END\n            ) AS p\n    )\n\nSELECT\n    reel_number,\n    frame_number,\n\n    -- Extract detailed patent attributes from the flattened node\n    XMLGET(XMLGET(patent_node, 'document-id'), 'doc-number'):\"$\"::VARCHAR\n        AS document_number,\n    XMLGET(XMLGET(patent_node, 'document-id'), 'country'):\"$\"::VARCHAR\n        AS country,\n    XMLGET(XMLGET(patent_node, 'document-id'), 'kind'):\"$\"::VARCHAR\n        AS kind_code,\n    XMLGET(patent_node, 'invention-title'):\"$\"::VARCHAR AS invention_title,\n\n    -- Extract and cast the document date\n    TRY_TO_DATE(\n        XMLGET(XMLGET(patent_node, 'document-id'), 'date'):\"$\"::VARCHAR,\n        'YYYYMMDD'\n    ) AS document_date\n\nFROM flattened_patents\nWHERE document_number IS NOT NULL", "relation_name": "USPTO_DB.ANALYTICS_staging.stg_patent_properties", "batch_results": null}, {"status": "success", "timing": [{"name": "compile", "started_at": "2026-01-03T14:14:09.445762Z", "completed_at": "2026-01-03T14:14:09.470955Z"}, {"name": "execute", "started_at": "2026-01-03T14:14:09.472545Z", "completed_at": "2026-01-03T14:14:09.472559Z"}], "thread_id": "Thread-4 (worker)", "execution_time": 0.0319819450378418, "adapter_response": {}, "message": null, "failures": null, "unique_id": "model.uspto_dbt.dim_assignees", "compiled": true, "compiled_code": "\n\n/* ---------------------------------------------------------------------------------------------------------------------\n   Dimension: dim_assignees\n   Grain: One row per unique Assignee Name.\n   Description: Stores static attributes of the assignee including address and location details.\n   ---------------------------------------------------------------------------------------------------------------------\n*/\nWITH\n    source AS (\n        SELECT\n            assignee_name,\n            city,\n            state,\n            country,\n            reel_number,\n            frame_number\n        FROM USPTO_DB.ANALYTICS_staging.stg_patent_assignees\n        WHERE assignee_name IS NOT NULL\n    ),\n\n    deduplicated_assignees AS (\n        SELECT\n        -- Standardize assignee names to uppercase to resolve simple duplicates\n            \nUPPER(TRIM(assignee_name))\n AS assignee_name_clean,\n            --address_1,\n            city,\n            state,\n            country\n        FROM source\n        -- Deduplicate records by retaining the address information from the most recent assignment\n        QUALIFY ROW_NUMBER() OVER (\n            PARTITION BY UPPER(TRIM(assignee_name))\n            ORDER BY reel_number DESC, frame_number DESC\n        ) = 1\n    )\n\nSELECT\n    -- Surrogate Key\n    assignee_name_clean AS assignee_name,\n\n    -- Attributes\n    city,\n    state,\n    country,\n    MD5(assignee_name_clean) AS assignee_sk,\n\n    TO_TIMESTAMP_NTZ(CONVERT_TIMEZONE('Europe/Paris', CURRENT_TIMESTAMP()))\n        AS loaded_at\n\nFROM deduplicated_assignees", "relation_name": "USPTO_DB.ANALYTICS_analytics.dim_assignees", "batch_results": null}, {"status": "success", "timing": [{"name": "compile", "started_at": "2026-01-03T14:14:09.451621Z", "completed_at": "2026-01-03T14:14:09.471701Z"}, {"name": "execute", "started_at": "2026-01-03T14:14:09.474238Z", "completed_at": "2026-01-03T14:14:09.474252Z"}], "thread_id": "Thread-2 (worker)", "execution_time": 0.031682491302490234, "adapter_response": {}, "message": null, "failures": null, "unique_id": "model.uspto_dbt.dim_assignments", "compiled": true, "compiled_code": "\n\nWITH\n    source AS (\n        SELECT\n            reel_number,\n            frame_number,\n            recorded_date,\n            conveyance_text,\n            page_count\n        FROM\n            USPTO_DB.ANALYTICS_staging.stg_patent_assignments\n    )\n\nSELECT\n    --Surrogate Key (composite)\n    reel_number,\n\n    --Natural keys\n    frame_number,\n    recorded_date,\n\n    --Attributes\n    conveyance_text,\n    page_count,\n    MD5(reel_number || frame_number) AS assignment_sk,\n    TO_TIMESTAMP_NTZ(CONVERT_TIMEZONE('Europe/Paris', CURRENT_TIMESTAMP()))\n        AS loaded_at\nFROM\n    source", "relation_name": "USPTO_DB.ANALYTICS_analytics.dim_assignments", "batch_results": null}, {"status": "success", "timing": [{"name": "compile", "started_at": "2026-01-03T14:14:09.455635Z", "completed_at": "2026-01-03T14:14:09.473572Z"}, {"name": "execute", "started_at": "2026-01-03T14:14:09.476515Z", "completed_at": "2026-01-03T14:14:09.476526Z"}], "thread_id": "Thread-1 (worker)", "execution_time": 0.032694339752197266, "adapter_response": {}, "message": null, "failures": null, "unique_id": "test.uspto_dbt.assert_assignee_name_is_present", "compiled": true, "compiled_code": "-- Data Quality Test: Validates that the assignee_name column contains no NULL values\nSELECT *\nFROM USPTO_DB.ANALYTICS_staging.stg_patent_assignees\nWHERE assignee_name IS NULL", "relation_name": null, "batch_results": null}, {"status": "success", "timing": [{"name": "compile", "started_at": "2026-01-03T14:14:09.461079Z", "completed_at": "2026-01-03T14:14:09.475141Z"}, {"name": "execute", "started_at": "2026-01-03T14:14:09.478340Z", "completed_at": "2026-01-03T14:14:09.478353Z"}], "thread_id": "Thread-3 (worker)", "execution_time": 0.03386878967285156, "adapter_response": {}, "message": null, "failures": null, "unique_id": "test.uspto_dbt.not_null_stg_patent_assignees_assignee_name.bf5a4b5291", "compiled": true, "compiled_code": "\n    \n    \n\n\n\nselect assignee_name\nfrom USPTO_DB.ANALYTICS_staging.stg_patent_assignees\nwhere assignee_name is null\n\n\n", "relation_name": null, "batch_results": null}, {"status": "success", "timing": [{"name": "compile", "started_at": "2026-01-03T14:14:09.484531Z", "completed_at": "2026-01-03T14:14:09.499446Z"}, {"name": "execute", "started_at": "2026-01-03T14:14:09.505583Z", "completed_at": "2026-01-03T14:14:09.505599Z"}], "thread_id": "Thread-4 (worker)", "execution_time": 0.026325225830078125, "adapter_response": {}, "message": null, "failures": null, "unique_id": "test.uspto_dbt.not_null_stg_patent_assignees_frame_number.1d2d323daa", "compiled": true, "compiled_code": "\n    \n    \n\n\n\nselect frame_number\nfrom USPTO_DB.ANALYTICS_staging.stg_patent_assignees\nwhere frame_number is null\n\n\n", "relation_name": null, "batch_results": null}, {"status": "success", "timing": [{"name": "compile", "started_at": "2026-01-03T14:14:09.489755Z", "completed_at": "2026-01-03T14:14:09.504758Z"}, {"name": "execute", "started_at": "2026-01-03T14:14:09.507204Z", "completed_at": "2026-01-03T14:14:09.507215Z"}], "thread_id": "Thread-2 (worker)", "execution_time": 0.026615381240844727, "adapter_response": {}, "message": null, "failures": null, "unique_id": "test.uspto_dbt.not_null_stg_patent_assignees_reel_number.06b2ec8cc7", "compiled": true, "compiled_code": "\n    \n    \n\n\n\nselect reel_number\nfrom USPTO_DB.ANALYTICS_staging.stg_patent_assignees\nwhere reel_number is null\n\n\n", "relation_name": null, "batch_results": null}, {"status": "success", "timing": [{"name": "compile", "started_at": "2026-01-03T14:14:09.495112Z", "completed_at": "2026-01-03T14:14:09.506459Z"}, {"name": "execute", "started_at": "2026-01-03T14:14:09.509444Z", "completed_at": "2026-01-03T14:14:09.509457Z"}], "thread_id": "Thread-1 (worker)", "execution_time": 0.02692270278930664, "adapter_response": {}, "message": null, "failures": null, "unique_id": "test.uspto_dbt.not_null_stg_patent_assignments_frame_number.9413f12c12", "compiled": true, "compiled_code": "\n    \n    \n\n\n\nselect frame_number\nfrom USPTO_DB.ANALYTICS_staging.stg_patent_assignments\nwhere frame_number is null\n\n\n", "relation_name": null, "batch_results": null}, {"status": "success", "timing": [{"name": "compile", "started_at": "2026-01-03T14:14:09.500305Z", "completed_at": "2026-01-03T14:14:09.508774Z"}, {"name": "execute", "started_at": "2026-01-03T14:14:09.511766Z", "completed_at": "2026-01-03T14:14:09.511780Z"}], "thread_id": "Thread-3 (worker)", "execution_time": 0.02799677848815918, "adapter_response": {}, "message": null, "failures": null, "unique_id": "test.uspto_dbt.not_null_stg_patent_assignments_recorded_date.2796e3d4b5", "compiled": true, "compiled_code": "\n    \n    \n\n\n\nselect recorded_date\nfrom USPTO_DB.ANALYTICS_staging.stg_patent_assignments\nwhere recorded_date is null\n\n\n", "relation_name": null, "batch_results": null}, {"status": "success", "timing": [{"name": "compile", "started_at": "2026-01-03T14:14:09.516539Z", "completed_at": "2026-01-03T14:14:09.528028Z"}, {"name": "execute", "started_at": "2026-01-03T14:14:09.537166Z", "completed_at": "2026-01-03T14:14:09.537178Z"}], "thread_id": "Thread-4 (worker)", "execution_time": 0.026214122772216797, "adapter_response": {}, "message": null, "failures": null, "unique_id": "test.uspto_dbt.not_null_stg_patent_assignments_reel_number.6aae9e6050", "compiled": true, "compiled_code": "\n    \n    \n\n\n\nselect reel_number\nfrom USPTO_DB.ANALYTICS_staging.stg_patent_assignments\nwhere reel_number is null\n\n\n", "relation_name": null, "batch_results": null}, {"status": "success", "timing": [{"name": "compile", "started_at": "2026-01-03T14:14:09.528654Z", "completed_at": "2026-01-03T14:14:09.538462Z"}, {"name": "execute", "started_at": "2026-01-03T14:14:09.540992Z", "completed_at": "2026-01-03T14:14:09.541006Z"}], "thread_id": "Thread-1 (worker)", "execution_time": 0.02578282356262207, "adapter_response": {}, "message": null, "failures": null, "unique_id": "model.uspto_dbt.fct_assignment_bridge", "compiled": true, "compiled_code": "\n\n/* ---------------------------------------------------------------------------------------------------------------------\n   Mart: fct_assignment_bridge\n   Grain: One row per Assignee per Patent per Assignment.\n   Description: Serves as the link between dimensions to model the many-to-many relationships.\n   ---------------------------------------------------------------------------------------------------------------------\n*/\n\nWITH\n    patents AS (\n        SELECT\n            reel_number,\n            frame_number,\n            document_number\n        FROM USPTO_DB.ANALYTICS_staging.stg_patent_properties\n    ),\n\n    assignees AS (\n        SELECT\n            reel_number,\n            frame_number,\n            assignee_name\n        FROM USPTO_DB.ANALYTICS_staging.stg_patent_assignees\n    )\n\nSELECT\n    MD5(p.reel_number || p.frame_number) AS assignment_sk,\n    MD5(p.document_number) AS patent_sk,\n\n    -- Apply the cleaning macro to ensure surrogate keys match the records in the Dimension table\n    MD5(\nUPPER(TRIM(a.assignee_name))\n) AS assignee_sk,\n\n    TO_TIMESTAMP_NTZ(CONVERT_TIMEZONE('Europe/Paris', CURRENT_TIMESTAMP()))\n        AS loaded_at\n\nFROM patents AS p\nINNER JOIN assignees AS a\n    ON\n        p.reel_number = a.reel_number\n        AND p.frame_number = a.frame_number", "relation_name": "USPTO_DB.ANALYTICS_analytics.fct_assignment_bridge", "batch_results": null}, {"status": "success", "timing": [{"name": "compile", "started_at": "2026-01-03T14:14:09.523668Z", "completed_at": "2026-01-03T14:14:09.539070Z"}, {"name": "execute", "started_at": "2026-01-03T14:14:09.541916Z", "completed_at": "2026-01-03T14:14:09.541927Z"}], "thread_id": "Thread-2 (worker)", "execution_time": 0.028642654418945312, "adapter_response": {}, "message": null, "failures": null, "unique_id": "model.uspto_dbt.dim_patents", "compiled": true, "compiled_code": "\n\n/* ---------------------------------------------------------------------------------------------------------------------\n   Dimension: dim_patents\n   Grain: One row per unique Patent Document Number.\n   Description: Stores static attributes of a patent such as publication date, title, and country of origin.\n   ---------------------------------------------------------------------------------------------------------------------\n*/\n\nWITH\n    unique_patents AS (\n        SELECT\n            document_number,\n            document_date,\n            country,\n            kind_code,\n            invention_title,\n            reel_number,\n            frame_number\n        FROM USPTO_DB.ANALYTICS_staging.stg_patent_properties\n\n        -- Deduplicate records by retaining only the entry from the most recent assignment\n        -- Order by Reel and Frame number descending to identify the latest record\n        QUALIFY\n            ROW_NUMBER()\n                OVER (\n                    PARTITION BY document_number\n                    ORDER BY reel_number DESC, frame_number DESC\n                )\n            = 1\n    )\n\nSELECT\n    -- Surrogate Key (Primary Key for the Dimension)\n    document_number,\n\n    -- Natural Key\n    document_date,\n\n    -- Attributes\n    country,\n    kind_code,\n    invention_title,\n    MD5(document_number) AS patent_sk,\n\n    TO_TIMESTAMP_NTZ(CONVERT_TIMEZONE('Europe/Paris', CURRENT_TIMESTAMP()))\n        AS loaded_at\n\nFROM unique_patents", "relation_name": "USPTO_DB.ANALYTICS_analytics.dim_patents", "batch_results": null}, {"status": "success", "timing": [{"name": "compile", "started_at": "2026-01-03T14:14:09.532874Z", "completed_at": "2026-01-03T14:14:09.539627Z"}, {"name": "execute", "started_at": "2026-01-03T14:14:09.542787Z", "completed_at": "2026-01-03T14:14:09.542802Z"}], "thread_id": "Thread-3 (worker)", "execution_time": 0.02051234245300293, "adapter_response": {}, "message": null, "failures": null, "unique_id": "test.uspto_dbt.not_null_stg_patent_properties_document_number.dc8677d083", "compiled": true, "compiled_code": "\n    \n    \n\n\n\nselect document_number\nfrom USPTO_DB.ANALYTICS_staging.stg_patent_properties\nwhere document_number is null\n\n\n", "relation_name": null, "batch_results": null}, {"status": "success", "timing": [{"name": "compile", "started_at": "2026-01-03T14:14:09.549286Z", "completed_at": "2026-01-03T14:14:09.560115Z"}, {"name": "execute", "started_at": "2026-01-03T14:14:09.571169Z", "completed_at": "2026-01-03T14:14:09.571182Z"}], "thread_id": "Thread-4 (worker)", "execution_time": 0.027599334716796875, "adapter_response": {}, "message": null, "failures": null, "unique_id": "test.uspto_dbt.not_null_stg_patent_properties_frame_number.c128bd54f2", "compiled": true, "compiled_code": "\n    \n    \n\n\n\nselect frame_number\nfrom USPTO_DB.ANALYTICS_staging.stg_patent_properties\nwhere frame_number is null\n\n\n", "relation_name": null, "batch_results": null}, {"status": "success", "timing": [{"name": "compile", "started_at": "2026-01-03T14:14:09.555709Z", "completed_at": "2026-01-03T14:14:09.572341Z"}, {"name": "execute", "started_at": "2026-01-03T14:14:09.575189Z", "completed_at": "2026-01-03T14:14:09.575200Z"}], "thread_id": "Thread-1 (worker)", "execution_time": 0.027918338775634766, "adapter_response": {}, "message": null, "failures": null, "unique_id": "test.uspto_dbt.not_null_stg_patent_properties_reel_number.19b72b548d", "compiled": true, "compiled_code": "\n    \n    \n\n\n\nselect reel_number\nfrom USPTO_DB.ANALYTICS_staging.stg_patent_properties\nwhere reel_number is null\n\n\n", "relation_name": null, "batch_results": null}, {"status": "success", "timing": [{"name": "compile", "started_at": "2026-01-03T14:14:09.566655Z", "completed_at": "2026-01-03T14:14:09.573930Z"}, {"name": "execute", "started_at": "2026-01-03T14:14:09.576743Z", "completed_at": "2026-01-03T14:14:09.576754Z"}], "thread_id": "Thread-3 (worker)", "execution_time": 0.028231382369995117, "adapter_response": {}, "message": null, "failures": null, "unique_id": "test.uspto_dbt.not_null_dim_assignees_assignee_sk.d6d977afc5", "compiled": true, "compiled_code": "\n    \n    \n\n\n\nselect assignee_sk\nfrom USPTO_DB.ANALYTICS_analytics.dim_assignees\nwhere assignee_sk is null\n\n\n", "relation_name": null, "batch_results": null}, {"status": "success", "timing": [{"name": "compile", "started_at": "2026-01-03T14:14:09.560851Z", "completed_at": "2026-01-03T14:14:09.574539Z"}, {"name": "execute", "started_at": "2026-01-03T14:14:09.577629Z", "completed_at": "2026-01-03T14:14:09.577643Z"}], "thread_id": "Thread-2 (worker)", "execution_time": 0.029701709747314453, "adapter_response": {}, "message": null, "failures": null, "unique_id": "test.uspto_dbt.not_null_dim_assignees_assignee_name.ebb3352d95", "compiled": true, "compiled_code": "\n    \n    \n\n\n\nselect assignee_name\nfrom USPTO_DB.ANALYTICS_analytics.dim_assignees\nwhere assignee_name is null\n\n\n", "relation_name": null, "batch_results": null}, {"status": "success", "timing": [{"name": "compile", "started_at": "2026-01-03T14:14:09.581919Z", "completed_at": "2026-01-03T14:14:09.592112Z"}, {"name": "execute", "started_at": "2026-01-03T14:14:09.606066Z", "completed_at": "2026-01-03T14:14:09.606086Z"}], "thread_id": "Thread-4 (worker)", "execution_time": 0.03009796142578125, "adapter_response": {}, "message": null, "failures": null, "unique_id": "test.uspto_dbt.unique_dim_assignees_assignee_sk.26de58aacc", "compiled": true, "compiled_code": "\n    \n    \n\nselect\n    assignee_sk as unique_field,\n    count(*) as n_records\n\nfrom USPTO_DB.ANALYTICS_analytics.dim_assignees\nwhere assignee_sk is not null\ngroup by assignee_sk\nhaving count(*) > 1\n\n\n", "relation_name": null, "batch_results": null}, {"status": "success", "timing": [{"name": "compile", "started_at": "2026-01-03T14:14:09.592724Z", "completed_at": "2026-01-03T14:14:09.607519Z"}, {"name": "execute", "started_at": "2026-01-03T14:14:09.610179Z", "completed_at": "2026-01-03T14:14:09.610190Z"}], "thread_id": "Thread-1 (worker)", "execution_time": 0.029024124145507812, "adapter_response": {}, "message": null, "failures": null, "unique_id": "test.uspto_dbt.not_null_dim_assignments_assignment_sk.f544d35763", "compiled": true, "compiled_code": "\n    \n    \n\n\n\nselect assignment_sk\nfrom USPTO_DB.ANALYTICS_analytics.dim_assignments\nwhere assignment_sk is null\n\n\n", "relation_name": null, "batch_results": null}, {"status": "success", "timing": [{"name": "compile", "started_at": "2026-01-03T14:14:09.597040Z", "completed_at": "2026-01-03T14:14:09.608273Z"}, {"name": "execute", "started_at": "2026-01-03T14:14:09.611111Z", "completed_at": "2026-01-03T14:14:09.611123Z"}], "thread_id": "Thread-3 (worker)", "execution_time": 0.024118900299072266, "adapter_response": {}, "message": null, "failures": null, "unique_id": "test.uspto_dbt.not_null_dim_assignments_frame_number.054c7e90a9", "compiled": true, "compiled_code": "\n    \n    \n\n\n\nselect frame_number\nfrom USPTO_DB.ANALYTICS_analytics.dim_assignments\nwhere frame_number is null\n\n\n", "relation_name": null, "batch_results": null}, {"status": "success", "timing": [{"name": "compile", "started_at": "2026-01-03T14:14:09.601659Z", "completed_at": "2026-01-03T14:14:09.609491Z"}, {"name": "execute", "started_at": "2026-01-03T14:14:09.612641Z", "completed_at": "2026-01-03T14:14:09.612652Z"}], "thread_id": "Thread-2 (worker)", "execution_time": 0.023319482803344727, "adapter_response": {}, "message": null, "failures": null, "unique_id": "test.uspto_dbt.not_null_dim_assignments_reel_number.161cd7d43d", "compiled": true, "compiled_code": "\n    \n    \n\n\n\nselect reel_number\nfrom USPTO_DB.ANALYTICS_analytics.dim_assignments\nwhere reel_number is null\n\n\n", "relation_name": null, "batch_results": null}, {"status": "success", "timing": [{"name": "compile", "started_at": "2026-01-03T14:14:09.617541Z", "completed_at": "2026-01-03T14:14:09.630183Z"}, {"name": "execute", "started_at": "2026-01-03T14:14:09.640690Z", "completed_at": "2026-01-03T14:14:09.640712Z"}], "thread_id": "Thread-4 (worker)", "execution_time": 0.02886509895324707, "adapter_response": {}, "message": null, "failures": null, "unique_id": "test.uspto_dbt.unique_dim_assignments_assignment_sk.76c8610145", "compiled": true, "compiled_code": "\n    \n    \n\nselect\n    assignment_sk as unique_field,\n    count(*) as n_records\n\nfrom USPTO_DB.ANALYTICS_analytics.dim_assignments\nwhere assignment_sk is not null\ngroup by assignment_sk\nhaving count(*) > 1\n\n\n", "relation_name": null, "batch_results": null}, {"status": "success", "timing": [{"name": "compile", "started_at": "2026-01-03T14:14:09.625926Z", "completed_at": "2026-01-03T14:14:09.641871Z"}, {"name": "execute", "started_at": "2026-01-03T14:14:09.644297Z", "completed_at": "2026-01-03T14:14:09.644312Z"}], "thread_id": "Thread-1 (worker)", "execution_time": 0.02819061279296875, "adapter_response": {}, "message": null, "failures": null, "unique_id": "test.uspto_dbt.not_null_fct_assignment_bridge_assignee_sk.cd66948f6f", "compiled": true, "compiled_code": "\n    \n    \n\n\n\nselect assignee_sk\nfrom USPTO_DB.ANALYTICS_analytics.fct_assignment_bridge\nwhere assignee_sk is null\n\n\n", "relation_name": null, "batch_results": null}, {"status": "success", "timing": [{"name": "compile", "started_at": "2026-01-03T14:14:09.635581Z", "completed_at": "2026-01-03T14:14:09.643665Z"}, {"name": "execute", "started_at": "2026-01-03T14:14:09.646500Z", "completed_at": "2026-01-03T14:14:09.646513Z"}], "thread_id": "Thread-2 (worker)", "execution_time": 0.02327895164489746, "adapter_response": {}, "message": null, "failures": null, "unique_id": "test.uspto_dbt.not_null_fct_assignment_bridge_patent_sk.146ab483a8", "compiled": true, "compiled_code": "\n    \n    \n\n\n\nselect patent_sk\nfrom USPTO_DB.ANALYTICS_analytics.fct_assignment_bridge\nwhere patent_sk is null\n\n\n", "relation_name": null, "batch_results": null}, {"status": "success", "timing": [{"name": "compile", "started_at": "2026-01-03T14:14:09.630835Z", "completed_at": "2026-01-03T14:14:09.645207Z"}, {"name": "execute", "started_at": "2026-01-03T14:14:09.648164Z", "completed_at": "2026-01-03T14:14:09.648176Z"}], "thread_id": "Thread-3 (worker)", "execution_time": 0.03134918212890625, "adapter_response": {}, "message": null, "failures": null, "unique_id": "test.uspto_dbt.not_null_fct_assignment_bridge_assignment_sk.9b6e184625", "compiled": true, "compiled_code": "\n    \n    \n\n\n\nselect assignment_sk\nfrom USPTO_DB.ANALYTICS_analytics.fct_assignment_bridge\nwhere assignment_sk is null\n\n\n", "relation_name": null, "batch_results": null}, {"status": "success", "timing": [{"name": "compile", "started_at": "2026-01-03T14:14:09.651778Z", "completed_at": "2026-01-03T14:14:09.666085Z"}, {"name": "execute", "started_at": "2026-01-03T14:14:09.673706Z", "completed_at": "2026-01-03T14:14:09.673720Z"}], "thread_id": "Thread-4 (worker)", "execution_time": 0.028028249740600586, "adapter_response": {}, "message": null, "failures": null, "unique_id": "test.uspto_dbt.relationships_fct_assignment_bridge_assignee_sk__assignee_sk__ref_dim_assignees_.216b1e7520", "compiled": true, "compiled_code": "\n    \n    \n\nwith child as (\n    select assignee_sk as from_field\n    from USPTO_DB.ANALYTICS_analytics.fct_assignment_bridge\n    where assignee_sk is not null\n),\n\nparent as (\n    select assignee_sk as to_field\n    from USPTO_DB.ANALYTICS_analytics.dim_assignees\n)\n\nselect\n    from_field\n\nfrom child\nleft join parent\n    on child.from_field = parent.to_field\n\nwhere parent.to_field is null\n\n\n", "relation_name": null, "batch_results": null}, {"status": "success", "timing": [{"name": "compile", "started_at": "2026-01-03T14:14:09.660372Z", "completed_at": "2026-01-03T14:14:09.679088Z"}, {"name": "execute", "started_at": "2026-01-03T14:14:09.680779Z", "completed_at": "2026-01-03T14:14:09.680792Z"}], "thread_id": "Thread-1 (worker)", "execution_time": 0.030452251434326172, "adapter_response": {}, "message": null, "failures": null, "unique_id": "test.uspto_dbt.relationships_fct_assignment_bridge_assignment_sk__assignment_sk__ref_dim_assignments_.069eaed539", "compiled": true, "compiled_code": "\n    \n    \n\nwith child as (\n    select assignment_sk as from_field\n    from USPTO_DB.ANALYTICS_analytics.fct_assignment_bridge\n    where assignment_sk is not null\n),\n\nparent as (\n    select assignment_sk as to_field\n    from USPTO_DB.ANALYTICS_analytics.dim_assignments\n)\n\nselect\n    from_field\n\nfrom child\nleft join parent\n    on child.from_field = parent.to_field\n\nwhere parent.to_field is null\n\n\n", "relation_name": null, "batch_results": null}, {"status": "success", "timing": [{"name": "compile", "started_at": "2026-01-03T14:14:09.667325Z", "completed_at": "2026-01-03T14:14:09.681658Z"}, {"name": "execute", "started_at": "2026-01-03T14:14:09.684265Z", "completed_at": "2026-01-03T14:14:09.684277Z"}], "thread_id": "Thread-2 (worker)", "execution_time": 0.02739715576171875, "adapter_response": {}, "message": null, "failures": null, "unique_id": "model.uspto_dbt.rpt_data_science_input", "compiled": true, "compiled_code": "\n\n/* ---------------------------------------------------------------------------------------------------------------------\n   Report: rpt_data_science_input\n   Description: Denormalized view of the Star Schema optimized for Data Science and Algorithmic analysis.\n   Contains: One row per Patent-Assignee-Assignment link.\n   ---------------------------------------------------------------------------------------------------------------------\n   */\n\nSELECT\n    -- 1. Extract Patent Features\n    p.document_number,\n    p.document_date,\n    p.country,\n    p.kind_code,\n    p.invention_title,\n\n    -- 2. Extract Assignee Features\n    a.assignee_name,\n    a.city AS assignee_city,\n    a.state AS assignee_state,\n    a.country AS assignee_country,\n\n    -- 3. Extract Assignment Features (Transaction Metadata)\n    t.recorded_date,\n    t.conveyance_text,\n    t.reel_number,\n    t.frame_number,\n\n    -- 4. Generate Calculated Features (e.g., Asset Age at time of transfer)\n    DATEDIFF('day', p.document_date, t.recorded_date) AS days_since_publication\n\nFROM USPTO_DB.ANALYTICS_analytics.fct_assignment_bridge AS f\n-- Join back to the Dimensions to retrieve descriptive text attributes\nINNER JOIN USPTO_DB.ANALYTICS_analytics.dim_patents AS p ON f.patent_sk = p.patent_sk\nINNER JOIN USPTO_DB.ANALYTICS_analytics.dim_assignees AS a ON f.assignee_sk = a.assignee_sk\nINNER JOIN\n    USPTO_DB.ANALYTICS_analytics.dim_assignments AS t\n    ON f.assignment_sk = t.assignment_sk", "relation_name": "USPTO_DB.ANALYTICS_analytics.rpt_data_science_input", "batch_results": null}, {"status": "success", "timing": [{"name": "compile", "started_at": "2026-01-03T14:14:09.674730Z", "completed_at": "2026-01-03T14:14:09.682998Z"}, {"name": "execute", "started_at": "2026-01-03T14:14:09.685762Z", "completed_at": "2026-01-03T14:14:09.685773Z"}], "thread_id": "Thread-3 (worker)", "execution_time": 0.026913881301879883, "adapter_response": {}, "message": null, "failures": null, "unique_id": "test.uspto_dbt.not_null_dim_patents_document_number.1f764428f7", "compiled": true, "compiled_code": "\n    \n    \n\n\n\nselect document_number\nfrom USPTO_DB.ANALYTICS_analytics.dim_patents\nwhere document_number is null\n\n\n", "relation_name": null, "batch_results": null}, {"status": "success", "timing": [{"name": "compile", "started_at": "2026-01-03T14:14:09.687990Z", "completed_at": "2026-01-03T14:14:09.699503Z"}, {"name": "execute", "started_at": "2026-01-03T14:14:09.700837Z", "completed_at": "2026-01-03T14:14:09.700850Z"}], "thread_id": "Thread-4 (worker)", "execution_time": 0.018621444702148438, "adapter_response": {}, "message": null, "failures": null, "unique_id": "test.uspto_dbt.not_null_dim_patents_patent_sk.11003ee5c9", "compiled": true, "compiled_code": "\n    \n    \n\n\n\nselect patent_sk\nfrom USPTO_DB.ANALYTICS_analytics.dim_patents\nwhere patent_sk is null\n\n\n", "relation_name": null, "batch_results": null}, {"status": "success", "timing": [{"name": "compile", "started_at": "2026-01-03T14:14:09.694061Z", "completed_at": "2026-01-03T14:14:09.701757Z"}, {"name": "execute", "started_at": "2026-01-03T14:14:09.706874Z", "completed_at": "2026-01-03T14:14:09.706890Z"}], "thread_id": "Thread-1 (worker)", "execution_time": 0.020333290100097656, "adapter_response": {}, "message": null, "failures": null, "unique_id": "test.uspto_dbt.relationships_fct_assignment_bridge_patent_sk__patent_sk__ref_dim_patents_.179a6cd27f", "compiled": true, "compiled_code": "\n    \n    \n\nwith child as (\n    select patent_sk as from_field\n    from USPTO_DB.ANALYTICS_analytics.fct_assignment_bridge\n    where patent_sk is not null\n),\n\nparent as (\n    select patent_sk as to_field\n    from USPTO_DB.ANALYTICS_analytics.dim_patents\n)\n\nselect\n    from_field\n\nfrom child\nleft join parent\n    on child.from_field = parent.to_field\n\nwhere parent.to_field is null\n\n\n", "relation_name": null, "batch_results": null}, {"status": "success", "timing": [{"name": "compile", "started_at": "2026-01-03T14:14:09.702332Z", "completed_at": "2026-01-03T14:14:09.708024Z"}, {"name": "execute", "started_at": "2026-01-03T14:14:09.708594Z", "completed_at": "2026-01-03T14:14:09.708603Z"}], "thread_id": "Thread-2 (worker)", "execution_time": 0.015485048294067383, "adapter_response": {}, "message": null, "failures": null, "unique_id": "test.uspto_dbt.unique_dim_patents_patent_sk.9d4ad3dbd4", "compiled": true, "compiled_code": "\n    \n    \n\nselect\n    patent_sk as unique_field,\n    count(*) as n_records\n\nfrom USPTO_DB.ANALYTICS_analytics.dim_patents\nwhere patent_sk is not null\ngroup by patent_sk\nhaving count(*) > 1\n\n\n", "relation_name": null, "batch_results": null}], "elapsed_time": 3.5622940063476562, "args": {"require_resource_names_without_spaces": true, "require_unique_project_resource_names": false, "partial_parse_file_diff": true, "state_modified_compare_more_unrendered_values": false, "version_check": true, "defer": false, "send_anonymous_usage_stats": true, "indirect_selection": "eager", "validate_macro_args": false, "log_file_max_bytes": 10485760, "invocation_command": "dbt docs generate --project-dir transformation/uspto_dbt", "print": true, "favor_state": false, "require_generic_test_arguments_property": true, "log_path": "transformation/uspto_dbt/logs", "warn_error_options": {"error": [], "warn": [], "silence": []}, "populate_cache": true, "static": false, "quiet": false, "exclude": [], "use_fast_test_edges": false, "require_explicit_package_overrides_for_builtin_materializations": true, "show_resource_report": false, "log_format_file": "debug", "log_format": "default", "require_all_warnings_handled_by_warn_error": false, "show_all_deprecations": false, "cache_selected_only": false, "compile": true, "upload_to_artifacts_ingest_api": false, "empty_catalog": false, "profiles_dir": "/home/runner/.dbt", "state_modified_compare_vars": false, "source_freshness_run_project_hooks": true, "vars": {}, "static_parser": true, "log_level_file": "debug", "use_colors_file": true, "require_nested_cumulative_type_params": false, "printer_width": 80, "which": "generate", "strict_mode": false, "partial_parse": true, "require_ref_searches_node_package_before_root": false, "require_batched_execution_for_custom_microbatch_strategy": false, "introspect": true, "require_yaml_configuration_for_mf_time_spines": false, "select": [], "use_colors": true, "write_json": true, "macro_debugging": false, "project_dir": "transformation/uspto_dbt", "skip_nodes_if_on_run_start_fails": false, "log_level": "info"}}