{"metadata": {"dbt_schema_version": "https://schemas.getdbt.com/dbt/run-results/v6.json", "dbt_version": "1.11.2", "generated_at": "2026-01-02T19:45:41.013527Z", "invocation_id": "36b8cf0e-c8fe-42c6-88f5-a3b91da4de79", "invocation_started_at": "2026-01-02T19:45:35.147131Z", "env": {}}, "results": [{"status": "success", "timing": [{"name": "compile", "started_at": "2026-01-02T19:45:40.333106Z", "completed_at": "2026-01-02T19:45:40.342077Z"}, {"name": "execute", "started_at": "2026-01-02T19:45:40.342796Z", "completed_at": "2026-01-02T19:45:40.342814Z"}], "thread_id": "Thread-2 (worker)", "execution_time": 0.10375237464904785, "adapter_response": {}, "message": null, "failures": null, "unique_id": "model.uspto_dbt.stg_patent_assignments", "compiled": true, "compiled_code": "\n\n\nWITH\n    source AS (\n        SELECT *\n        FROM\n            uspto_db.raw.patent_assignment_xml\n        QUALIFY\n            ROW_NUMBER()\n                OVER (PARTITION BY MD5(xml_content) ORDER BY loaded_at DESC)\n            = 1\n    ),\n\n    -- Step 1: Extracting the 'record_node' first. \n    xml_root AS (\n        SELECT\n            file_name,\n            loaded_at,\n            XMLGET(xml_content, 'assignment-record') AS record_node\n        FROM source\n    ),\n\n    -- Step 2: Using 'record_node' to get the fields\n    parsed AS (\n        SELECT\n            file_name,\n            loaded_at,\n\n            -- Extract High-Level Fields (using the logic we verified)\n            XMLGET(record_node, 'reel-no'):\"$\"::VARCHAR AS reel_number,\n            XMLGET(record_node, 'frame-no'):\"$\"::VARCHAR AS frame_number,\n            XMLGET(record_node, 'conveyance-text'):\"$\"::VARCHAR\n                AS conveyance_text,\n            XMLGET(record_node, 'page-count'):\"$\"::INTEGER AS page_count,\n\n            -- Dates require careful handling (XML dates often need casting)\n            TRY_TO_DATE(\n                XMLGET(\n                    XMLGET(record_node, 'recorded-date'), 'date'\n                ):\"$\"::VARCHAR,\n                'YYYYMMDD'\n            ) AS recorded_date,\n            TRY_TO_DATE(\n                XMLGET(\n                    XMLGET(record_node, 'last-update-date'), 'date'\n                ):\"$\"::VARCHAR,\n                'YYYYMMDD'\n            ) AS last_update_date\n        FROM xml_root\n    )\n\nSELECT *\nFROM\n    parsed", "relation_name": "USPTO_DB.ANALYTICS_staging.stg_patent_assignments", "batch_results": null}, {"status": "success", "timing": [{"name": "compile", "started_at": "2026-01-02T19:45:40.337553Z", "completed_at": "2026-01-02T19:45:40.343798Z"}, {"name": "execute", "started_at": "2026-01-02T19:45:40.344638Z", "completed_at": "2026-01-02T19:45:40.344650Z"}], "thread_id": "Thread-3 (worker)", "execution_time": 0.1043252944946289, "adapter_response": {}, "message": null, "failures": null, "unique_id": "model.uspto_dbt.stg_patent_properties", "compiled": true, "compiled_code": "\n\n/* Optimizes performance by pre-extracting nodes before flattening. */\nWITH\n    source AS (\n        SELECT\n        -- Extract keys early to avoid passing heavy XML blobs downstream\n            XMLGET(\n                XMLGET(xml_content, 'assignment-record'), 'reel-no'\n            ):\"$\"::VARCHAR AS reel_number,\n            XMLGET(\n                XMLGET(xml_content, 'assignment-record'), 'frame-no'\n            ):\"$\"::VARCHAR AS frame_number,\n\n            -- Pre-calculate the node to flatten (Extract once per file)\n            XMLGET(xml_content, 'patent-properties'):\"$\" AS properties_node\n        FROM uspto_db.raw.patent_assignment_xml\n        -- Deduplicate before parsing to save compute resources\n        QUALIFY\n            ROW_NUMBER()\n                OVER (PARTITION BY MD5(xml_content) ORDER BY loaded_at DESC)\n            = 1\n    ),\n\n    flattened_patents AS (\n        SELECT\n            source.reel_number,\n            source.frame_number,\n            p.value AS patent_node\n        FROM source,\n            LATERAL FLATTEN(\n                input =>\n                CASE\n                -- Logic is now faster as it uses the pre-extracted node\n                    WHEN IS_ARRAY(source.properties_node) THEN source.properties_node\n                    WHEN\n                        source.properties_node IS NOT NULL\n                        THEN ARRAY_CONSTRUCT(source.properties_node)\n                    ELSE ARRAY_CONSTRUCT()\n                END\n            ) AS p\n    )\n\nSELECT\n    reel_number,\n    frame_number,\n\n    -- Extract document details from the flattened patent node\n    XMLGET(XMLGET(patent_node, 'document-id'), 'doc-number'):\"$\"::VARCHAR\n        AS document_number,\n    XMLGET(XMLGET(patent_node, 'document-id'), 'country'):\"$\"::VARCHAR\n        AS country,\n    XMLGET(XMLGET(patent_node, 'document-id'), 'kind'):\"$\"::VARCHAR\n        AS kind_code,\n    XMLGET(patent_node, 'invention-title'):\"$\"::VARCHAR AS invention_title,\n\n    -- Extract invention title\n    TRY_TO_DATE(\n        XMLGET(XMLGET(patent_node, 'document-id'), 'date'):\"$\"::VARCHAR,\n        'YYYYMMDD'\n    ) AS document_date\n\nFROM flattened_patents\nWHERE document_number IS NOT NULL", "relation_name": "USPTO_DB.ANALYTICS_staging.stg_patent_properties", "batch_results": null}, {"status": "success", "timing": [{"name": "compile", "started_at": "2026-01-02T19:45:40.241730Z", "completed_at": "2026-01-02T19:45:40.345888Z"}, {"name": "execute", "started_at": "2026-01-02T19:45:40.347683Z", "completed_at": "2026-01-02T19:45:40.347694Z"}], "thread_id": "Thread-1 (worker)", "execution_time": 0.10986590385437012, "adapter_response": {}, "message": null, "failures": null, "unique_id": "model.uspto_dbt.stg_patent_assignees", "compiled": true, "compiled_code": "\n\nWITH\n    source AS (\n        SELECT * FROM uspto_db.raw.patent_assignment_xml\n        QUALIFY\n            ROW_NUMBER()\n                OVER (PARTITION BY MD5(xml_content) ORDER BY loaded_at DESC)\n            = 1\n    ),\n\n    -- Flatten the XML: Explode the \"patent-assignees\" list into rows\n    flattened AS (\n        SELECT\n        -- Retain the keys so we can join back to the main table later\n            GET(\n                XMLGET(XMLGET(source.xml_content, 'assignment-record'), 'reel-no'), '$'\n            )::VARCHAR AS reel_number,\n            GET(\n                XMLGET(XMLGET(source.xml_content, 'assignment-record'), 'frame-no'),\n                '$'\n            )::VARCHAR AS frame_number,\n            assignee.value AS assignee_node\n\n        FROM source,\n            -- LATERAL FLATTEN goes into the array and creates a row for each item in patent assignees\n            LATERAL FLATTEN(\n                -- The list to explode\n                input => XMLGET(source.xml_content, 'patent-assignees'):\"$\",\n                outer => true -- Keep the record even if the list is empty\n            ) AS assignee\n    )\n\nSELECT\n    reel_number,\n    frame_number,\n\n    -- Extract details from the specific assignee node\n    \nCASE\n    WHEN IS_ARRAY(assignee_node) THEN\n    uspto_db.raw.get_xml_array_value(assignee_node, 'name')\n    ELSE GET(XMLGET(assignee_node, 'name'),'$')::VARCHAR\nEND\n\n AS assignee_name,\n    \nCASE\n    WHEN IS_ARRAY(assignee_node) THEN\n    uspto_db.raw.get_xml_array_value(assignee_node, 'city')\n    ELSE GET(XMLGET(assignee_node, 'city'),'$')::VARCHAR\nEND\n\n AS city,\n    \nCASE\n    WHEN IS_ARRAY(assignee_node) THEN\n    uspto_db.raw.get_xml_array_value(assignee_node, 'state')\n    ELSE GET(XMLGET(assignee_node, 'state'),'$')::VARCHAR\nEND\n\n AS state,\n    \nCASE\n    WHEN IS_ARRAY(assignee_node) THEN\n    uspto_db.raw.get_xml_array_value(assignee_node, 'country-name')\n    ELSE GET(XMLGET(assignee_node, 'country-name'),'$')::VARCHAR\nEND\n\n AS country\n\nFROM flattened\n-- 1. Keep if it is a JSON Array (valid Newpark case)\n-- 2. Keep if it is valid XML (valid Midea case)\n-- 3. Drop if it is \"Trash\" (random strings/numbers generated by flattening Objects)\nWHERE\n    (IS_ARRAY(assignee_node) = true)\n    OR (CHECK_XML(assignee_node::VARCHAR) IS null)", "relation_name": "USPTO_DB.ANALYTICS_staging.stg_patent_assignees", "batch_results": null}, {"status": "success", "timing": [{"name": "compile", "started_at": "2026-01-02T19:45:40.357996Z", "completed_at": "2026-01-02T19:45:40.378101Z"}, {"name": "execute", "started_at": "2026-01-02T19:45:40.379646Z", "completed_at": "2026-01-02T19:45:40.379664Z"}], "thread_id": "Thread-2 (worker)", "execution_time": 0.02991175651550293, "adapter_response": {}, "message": null, "failures": null, "unique_id": "model.uspto_dbt.dim_patents", "compiled": true, "compiled_code": "\n\n/*\n    Dimension: dim_patents\n    Grain: One row per unique Patent Document Number.\n    Description: Contains static attributes of a patent (Date, Title, Country).\n*/\n\nWITH\n    unique_patents AS (\n        SELECT\n            document_number,\n            document_date,\n            country,\n            kind_code,\n            invention_title,\n            reel_number,\n            frame_number\n        FROM USPTO_DB.ANALYTICS_staging.stg_patent_properties\n\n        -- Deduplicate: Keep only the entry from the most recent assignment (Highest Reel No)\n        QUALIFY\n            ROW_NUMBER()\n                OVER (\n                    PARTITION BY document_number\n                    ORDER BY reel_number DESC, frame_number DESC\n                )\n            = 1\n    )\n\nSELECT\n    -- Surrogate Key (Primary Key for the Dimension)\n    document_number,\n\n    -- Natural Key\n    document_date,\n\n    -- Attributes\n    country,\n    kind_code,\n    invention_title,\n    MD5(document_number) AS patent_sk,\n\n    TO_TIMESTAMP_NTZ(CONVERT_TIMEZONE('Europe/Paris', CURRENT_TIMESTAMP()))\n        AS loaded_at\n\nFROM unique_patents", "relation_name": "USPTO_DB.ANALYTICS_analytics.dim_patents", "batch_results": null}, {"status": "success", "timing": [{"name": "compile", "started_at": "2026-01-02T19:45:40.354307Z", "completed_at": "2026-01-02T19:45:40.378790Z"}, {"name": "execute", "started_at": "2026-01-02T19:45:40.381362Z", "completed_at": "2026-01-02T19:45:40.381377Z"}], "thread_id": "Thread-4 (worker)", "execution_time": 0.032328128814697266, "adapter_response": {}, "message": null, "failures": null, "unique_id": "model.uspto_dbt.dim_assignments", "compiled": true, "compiled_code": "\n\nWITH\n    source AS (\n        SELECT\n            reel_number,\n            frame_number,\n            recorded_date,\n            conveyance_text,\n            page_count\n        FROM\n            USPTO_DB.ANALYTICS_staging.stg_patent_assignments\n    )\n\nSELECT\n    --Surrogate Key (composite)\n    reel_number,\n\n    --Natural keys\n    frame_number,\n    recorded_date,\n\n    --Attributes\n    conveyance_text,\n    page_count,\n    MD5(reel_number || frame_number) AS assignment_sk,\n    TO_TIMESTAMP_NTZ(CONVERT_TIMEZONE('Europe/Paris', CURRENT_TIMESTAMP()))\n        AS loaded_at\nFROM\n    source", "relation_name": "USPTO_DB.ANALYTICS_analytics.dim_assignments", "batch_results": null}, {"status": "success", "timing": [{"name": "compile", "started_at": "2026-01-02T19:45:40.373651Z", "completed_at": "2026-01-02T19:45:40.380691Z"}, {"name": "execute", "started_at": "2026-01-02T19:45:40.383534Z", "completed_at": "2026-01-02T19:45:40.383546Z"}], "thread_id": "Thread-1 (worker)", "execution_time": 0.03052210807800293, "adapter_response": {}, "message": null, "failures": null, "unique_id": "test.uspto_dbt.not_null_stg_patent_assignments_recorded_date.2796e3d4b5", "compiled": true, "compiled_code": "\n    \n    \n\n\n\nselect recorded_date\nfrom USPTO_DB.ANALYTICS_staging.stg_patent_assignments\nwhere recorded_date is null\n\n\n", "relation_name": null, "batch_results": null}, {"status": "success", "timing": [{"name": "compile", "started_at": "2026-01-02T19:45:40.362307Z", "completed_at": "2026-01-02T19:45:40.382209Z"}, {"name": "execute", "started_at": "2026-01-02T19:45:40.385292Z", "completed_at": "2026-01-02T19:45:40.385304Z"}], "thread_id": "Thread-3 (worker)", "execution_time": 0.03406858444213867, "adapter_response": {}, "message": null, "failures": null, "unique_id": "test.uspto_dbt.not_null_stg_patent_assignments_frame_number.9413f12c12", "compiled": true, "compiled_code": "\n    \n    \n\n\n\nselect frame_number\nfrom USPTO_DB.ANALYTICS_staging.stg_patent_assignments\nwhere frame_number is null\n\n\n", "relation_name": null, "batch_results": null}, {"status": "success", "timing": [{"name": "compile", "started_at": "2026-01-02T19:45:40.391429Z", "completed_at": "2026-01-02T19:45:40.406328Z"}, {"name": "execute", "started_at": "2026-01-02T19:45:40.412222Z", "completed_at": "2026-01-02T19:45:40.412235Z"}], "thread_id": "Thread-2 (worker)", "execution_time": 0.02602982521057129, "adapter_response": {}, "message": null, "failures": null, "unique_id": "test.uspto_dbt.not_null_stg_patent_assignments_reel_number.6aae9e6050", "compiled": true, "compiled_code": "\n    \n    \n\n\n\nselect reel_number\nfrom USPTO_DB.ANALYTICS_staging.stg_patent_assignments\nwhere reel_number is null\n\n\n", "relation_name": null, "batch_results": null}, {"status": "success", "timing": [{"name": "compile", "started_at": "2026-01-02T19:45:40.396592Z", "completed_at": "2026-01-02T19:45:40.411443Z"}, {"name": "execute", "started_at": "2026-01-02T19:45:40.413849Z", "completed_at": "2026-01-02T19:45:40.413864Z"}], "thread_id": "Thread-4 (worker)", "execution_time": 0.026356220245361328, "adapter_response": {}, "message": null, "failures": null, "unique_id": "test.uspto_dbt.not_null_stg_patent_properties_document_number.dc8677d083", "compiled": true, "compiled_code": "\n    \n    \n\n\n\nselect document_number\nfrom USPTO_DB.ANALYTICS_staging.stg_patent_properties\nwhere document_number is null\n\n\n", "relation_name": null, "batch_results": null}, {"status": "success", "timing": [{"name": "compile", "started_at": "2026-01-02T19:45:40.401772Z", "completed_at": "2026-01-02T19:45:40.413124Z"}, {"name": "execute", "started_at": "2026-01-02T19:45:40.416038Z", "completed_at": "2026-01-02T19:45:40.416050Z"}], "thread_id": "Thread-1 (worker)", "execution_time": 0.026613950729370117, "adapter_response": {}, "message": null, "failures": null, "unique_id": "test.uspto_dbt.not_null_stg_patent_properties_frame_number.c128bd54f2", "compiled": true, "compiled_code": "\n    \n    \n\n\n\nselect frame_number\nfrom USPTO_DB.ANALYTICS_staging.stg_patent_properties\nwhere frame_number is null\n\n\n", "relation_name": null, "batch_results": null}, {"status": "success", "timing": [{"name": "compile", "started_at": "2026-01-02T19:45:40.407049Z", "completed_at": "2026-01-02T19:45:40.414766Z"}, {"name": "execute", "started_at": "2026-01-02T19:45:40.417610Z", "completed_at": "2026-01-02T19:45:40.417621Z"}], "thread_id": "Thread-3 (worker)", "execution_time": 0.026948928833007812, "adapter_response": {}, "message": null, "failures": null, "unique_id": "test.uspto_dbt.not_null_stg_patent_properties_reel_number.19b72b548d", "compiled": true, "compiled_code": "\n    \n    \n\n\n\nselect reel_number\nfrom USPTO_DB.ANALYTICS_staging.stg_patent_properties\nwhere reel_number is null\n\n\n", "relation_name": null, "batch_results": null}, {"status": "success", "timing": [{"name": "compile", "started_at": "2026-01-02T19:45:40.429711Z", "completed_at": "2026-01-02T19:45:40.443046Z"}, {"name": "execute", "started_at": "2026-01-02T19:45:40.444646Z", "completed_at": "2026-01-02T19:45:40.444664Z"}], "thread_id": "Thread-4 (worker)", "execution_time": 0.02489638328552246, "adapter_response": {}, "message": null, "failures": null, "unique_id": "model.uspto_dbt.fct_assignment_bridge", "compiled": true, "compiled_code": "\n\n/*\n    Mart: fct_assignment_bridge\n    Grain: One row per Assignee per Patent per Assignment.\n*/\n\nWITH\n    patents AS (\n        SELECT\n            reel_number,\n            frame_number,\n            document_number\n        FROM USPTO_DB.ANALYTICS_staging.stg_patent_properties\n    ),\n\n    assignees AS (\n        SELECT\n            reel_number,\n            frame_number,\n            assignee_name\n        FROM USPTO_DB.ANALYTICS_staging.stg_patent_assignees\n    )\n\nSELECT\n    MD5(p.reel_number || p.frame_number) AS assignment_sk,\n    MD5(p.document_number) AS patent_sk,\n\n    -- Use the same macro here to guarantee the keys match the Dimension\n    MD5(\nUPPER(TRIM(a.assignee_name))\n) AS assignee_sk,\n\n    TO_TIMESTAMP_NTZ(CONVERT_TIMEZONE('Europe/Paris', CURRENT_TIMESTAMP()))\n        AS loaded_at\n\nFROM patents AS p\nINNER JOIN assignees AS a\n    ON\n        p.reel_number = a.reel_number\n        AND p.frame_number = a.frame_number", "relation_name": "USPTO_DB.ANALYTICS_analytics.fct_assignment_bridge", "batch_results": null}, {"status": "success", "timing": [{"name": "compile", "started_at": "2026-01-02T19:45:40.423751Z", "completed_at": "2026-01-02T19:45:40.443775Z"}, {"name": "execute", "started_at": "2026-01-02T19:45:40.445705Z", "completed_at": "2026-01-02T19:45:40.445721Z"}], "thread_id": "Thread-2 (worker)", "execution_time": 0.027246475219726562, "adapter_response": {}, "message": null, "failures": null, "unique_id": "model.uspto_dbt.dim_assignees", "compiled": true, "compiled_code": "\n\n/*\n    Dimension: dim_assignees\n    Grain: One row per unique Assignee Name.\n    Description: Contains static attributes of the assignee (Address, Location).\n*/\nWITH\n    source AS (\n        SELECT\n            assignee_name,\n            city,\n            state,\n            country,\n            reel_number,\n            frame_number\n        FROM USPTO_DB.ANALYTICS_staging.stg_patent_assignees\n        WHERE assignee_name IS NOT NULL\n    ),\n\n    deduplicated_assignees AS (\n        SELECT\n        -- Normalize name to uppercase to catch basic duplicates (e.g., \"Google\" vs \"GOOGLE\")\n            \nUPPER(TRIM(assignee_name))\n AS assignee_name_clean,\n            --address_1,\n            city,\n            state,\n            country\n        FROM source\n        -- Deduplicate: Retain the address from the most recent assignment\n        QUALIFY ROW_NUMBER() OVER (\n            PARTITION BY UPPER(TRIM(assignee_name))\n            ORDER BY reel_number DESC, frame_number DESC\n        ) = 1\n    )\n\nSELECT\n    -- Surrogate Key\n    assignee_name_clean AS assignee_name,\n\n    -- Attributes\n    city,\n    state,\n    country,\n    MD5(assignee_name_clean) AS assignee_sk,\n\n    TO_TIMESTAMP_NTZ(CONVERT_TIMEZONE('Europe/Paris', CURRENT_TIMESTAMP()))\n        AS loaded_at\n\nFROM deduplicated_assignees", "relation_name": "USPTO_DB.ANALYTICS_analytics.dim_assignees", "batch_results": null}, {"status": "success", "timing": [{"name": "compile", "started_at": "2026-01-02T19:45:40.438087Z", "completed_at": "2026-01-02T19:45:40.446557Z"}, {"name": "execute", "started_at": "2026-01-02T19:45:40.449470Z", "completed_at": "2026-01-02T19:45:40.449482Z"}], "thread_id": "Thread-3 (worker)", "execution_time": 0.026438236236572266, "adapter_response": {}, "message": null, "failures": null, "unique_id": "test.uspto_dbt.not_null_stg_patent_assignees_assignee_name.bf5a4b5291", "compiled": true, "compiled_code": "\n    \n    \n\n\n\nselect assignee_name\nfrom USPTO_DB.ANALYTICS_staging.stg_patent_assignees\nwhere assignee_name is null\n\n\n", "relation_name": null, "batch_results": null}, {"status": "success", "timing": [{"name": "compile", "started_at": "2026-01-02T19:45:40.434793Z", "completed_at": "2026-01-02T19:45:40.447149Z"}, {"name": "execute", "started_at": "2026-01-02T19:45:40.450531Z", "completed_at": "2026-01-02T19:45:40.450546Z"}], "thread_id": "Thread-1 (worker)", "execution_time": 0.028781890869140625, "adapter_response": {}, "message": null, "failures": null, "unique_id": "test.uspto_dbt.assert_assignee_name_is_present", "compiled": true, "compiled_code": "-- This test fails if any assignee name is NULL\nSELECT *\nFROM USPTO_DB.ANALYTICS_staging.stg_patent_assignees\nWHERE assignee_name IS NULL", "relation_name": null, "batch_results": null}, {"status": "success", "timing": [{"name": "compile", "started_at": "2026-01-02T19:45:40.456582Z", "completed_at": "2026-01-02T19:45:40.472307Z"}, {"name": "execute", "started_at": "2026-01-02T19:45:40.478686Z", "completed_at": "2026-01-02T19:45:40.478702Z"}], "thread_id": "Thread-4 (worker)", "execution_time": 0.027360916137695312, "adapter_response": {}, "message": null, "failures": null, "unique_id": "test.uspto_dbt.not_null_stg_patent_assignees_frame_number.1d2d323daa", "compiled": true, "compiled_code": "\n    \n    \n\n\n\nselect frame_number\nfrom USPTO_DB.ANALYTICS_staging.stg_patent_assignees\nwhere frame_number is null\n\n\n", "relation_name": null, "batch_results": null}, {"status": "success", "timing": [{"name": "compile", "started_at": "2026-01-02T19:45:40.460991Z", "completed_at": "2026-01-02T19:45:40.478080Z"}, {"name": "execute", "started_at": "2026-01-02T19:45:40.479912Z", "completed_at": "2026-01-02T19:45:40.479924Z"}], "thread_id": "Thread-2 (worker)", "execution_time": 0.02793741226196289, "adapter_response": {}, "message": null, "failures": null, "unique_id": "test.uspto_dbt.not_null_stg_patent_assignees_reel_number.06b2ec8cc7", "compiled": true, "compiled_code": "\n    \n    \n\n\n\nselect reel_number\nfrom USPTO_DB.ANALYTICS_staging.stg_patent_assignees\nwhere reel_number is null\n\n\n", "relation_name": null, "batch_results": null}, {"status": "success", "timing": [{"name": "compile", "started_at": "2026-01-02T19:45:40.473087Z", "completed_at": "2026-01-02T19:45:40.480830Z"}, {"name": "execute", "started_at": "2026-01-02T19:45:40.483434Z", "completed_at": "2026-01-02T19:45:40.483449Z"}], "thread_id": "Thread-1 (worker)", "execution_time": 0.02761554718017578, "adapter_response": {}, "message": null, "failures": null, "unique_id": "test.uspto_dbt.not_null_dim_patents_patent_sk.11003ee5c9", "compiled": true, "compiled_code": "\n    \n    \n\n\n\nselect patent_sk\nfrom USPTO_DB.ANALYTICS_analytics.dim_patents\nwhere patent_sk is null\n\n\n", "relation_name": null, "batch_results": null}, {"status": "success", "timing": [{"name": "compile", "started_at": "2026-01-02T19:45:40.467166Z", "completed_at": "2026-01-02T19:45:40.482091Z"}, {"name": "execute", "started_at": "2026-01-02T19:45:40.484976Z", "completed_at": "2026-01-02T19:45:40.484991Z"}], "thread_id": "Thread-3 (worker)", "execution_time": 0.029807090759277344, "adapter_response": {}, "message": null, "failures": null, "unique_id": "test.uspto_dbt.not_null_dim_patents_document_number.1f764428f7", "compiled": true, "compiled_code": "\n    \n    \n\n\n\nselect document_number\nfrom USPTO_DB.ANALYTICS_analytics.dim_patents\nwhere document_number is null\n\n\n", "relation_name": null, "batch_results": null}, {"status": "success", "timing": [{"name": "compile", "started_at": "2026-01-02T19:45:40.489792Z", "completed_at": "2026-01-02T19:45:40.507833Z"}, {"name": "execute", "started_at": "2026-01-02T19:45:40.513654Z", "completed_at": "2026-01-02T19:45:40.513670Z"}], "thread_id": "Thread-4 (worker)", "execution_time": 0.0294342041015625, "adapter_response": {}, "message": null, "failures": null, "unique_id": "test.uspto_dbt.unique_dim_patents_patent_sk.9d4ad3dbd4", "compiled": true, "compiled_code": "\n    \n    \n\nselect\n    patent_sk as unique_field,\n    count(*) as n_records\n\nfrom USPTO_DB.ANALYTICS_analytics.dim_patents\nwhere patent_sk is not null\ngroup by patent_sk\nhaving count(*) > 1\n\n\n", "relation_name": null, "batch_results": null}, {"status": "success", "timing": [{"name": "compile", "started_at": "2026-01-02T19:45:40.497322Z", "completed_at": "2026-01-02T19:45:40.512884Z"}, {"name": "execute", "started_at": "2026-01-02T19:45:40.515403Z", "completed_at": "2026-01-02T19:45:40.515414Z"}], "thread_id": "Thread-2 (worker)", "execution_time": 0.029632091522216797, "adapter_response": {}, "message": null, "failures": null, "unique_id": "test.uspto_dbt.not_null_dim_assignments_assignment_sk.f544d35763", "compiled": true, "compiled_code": "\n    \n    \n\n\n\nselect assignment_sk\nfrom USPTO_DB.ANALYTICS_analytics.dim_assignments\nwhere assignment_sk is null\n\n\n", "relation_name": null, "batch_results": null}, {"status": "success", "timing": [{"name": "compile", "started_at": "2026-01-02T19:45:40.503494Z", "completed_at": "2026-01-02T19:45:40.514745Z"}, {"name": "execute", "started_at": "2026-01-02T19:45:40.517631Z", "completed_at": "2026-01-02T19:45:40.517642Z"}], "thread_id": "Thread-1 (worker)", "execution_time": 0.02856159210205078, "adapter_response": {}, "message": null, "failures": null, "unique_id": "test.uspto_dbt.not_null_dim_assignments_frame_number.054c7e90a9", "compiled": true, "compiled_code": "\n    \n    \n\n\n\nselect frame_number\nfrom USPTO_DB.ANALYTICS_analytics.dim_assignments\nwhere frame_number is null\n\n\n", "relation_name": null, "batch_results": null}, {"status": "success", "timing": [{"name": "compile", "started_at": "2026-01-02T19:45:40.508495Z", "completed_at": "2026-01-02T19:45:40.516314Z"}, {"name": "execute", "started_at": "2026-01-02T19:45:40.519239Z", "completed_at": "2026-01-02T19:45:40.519250Z"}], "thread_id": "Thread-3 (worker)", "execution_time": 0.022785186767578125, "adapter_response": {}, "message": null, "failures": null, "unique_id": "test.uspto_dbt.not_null_dim_assignments_reel_number.161cd7d43d", "compiled": true, "compiled_code": "\n    \n    \n\n\n\nselect reel_number\nfrom USPTO_DB.ANALYTICS_analytics.dim_assignments\nwhere reel_number is null\n\n\n", "relation_name": null, "batch_results": null}, {"status": "success", "timing": [{"name": "compile", "started_at": "2026-01-02T19:45:40.525295Z", "completed_at": "2026-01-02T19:45:40.541047Z"}, {"name": "execute", "started_at": "2026-01-02T19:45:40.546374Z", "completed_at": "2026-01-02T19:45:40.546389Z"}], "thread_id": "Thread-4 (worker)", "execution_time": 0.02638411521911621, "adapter_response": {}, "message": null, "failures": null, "unique_id": "test.uspto_dbt.unique_dim_assignments_assignment_sk.76c8610145", "compiled": true, "compiled_code": "\n    \n    \n\nselect\n    assignment_sk as unique_field,\n    count(*) as n_records\n\nfrom USPTO_DB.ANALYTICS_analytics.dim_assignments\nwhere assignment_sk is not null\ngroup by assignment_sk\nhaving count(*) > 1\n\n\n", "relation_name": null, "batch_results": null}, {"status": "success", "timing": [{"name": "compile", "started_at": "2026-01-02T19:45:40.536780Z", "completed_at": "2026-01-02T19:45:40.547572Z"}, {"name": "execute", "started_at": "2026-01-02T19:45:40.550144Z", "completed_at": "2026-01-02T19:45:40.550156Z"}], "thread_id": "Thread-1 (worker)", "execution_time": 0.026849985122680664, "adapter_response": {}, "message": null, "failures": null, "unique_id": "test.uspto_dbt.not_null_fct_assignment_bridge_assignment_sk.9b6e184625", "compiled": true, "compiled_code": "\n    \n    \n\n\n\nselect assignment_sk\nfrom USPTO_DB.ANALYTICS_analytics.fct_assignment_bridge\nwhere assignment_sk is null\n\n\n", "relation_name": null, "batch_results": null}, {"status": "success", "timing": [{"name": "compile", "started_at": "2026-01-02T19:45:40.531672Z", "completed_at": "2026-01-02T19:45:40.548185Z"}, {"name": "execute", "started_at": "2026-01-02T19:45:40.551014Z", "completed_at": "2026-01-02T19:45:40.551025Z"}], "thread_id": "Thread-2 (worker)", "execution_time": 0.0296478271484375, "adapter_response": {}, "message": null, "failures": null, "unique_id": "test.uspto_dbt.not_null_fct_assignment_bridge_assignee_sk.cd66948f6f", "compiled": true, "compiled_code": "\n    \n    \n\n\n\nselect assignee_sk\nfrom USPTO_DB.ANALYTICS_analytics.fct_assignment_bridge\nwhere assignee_sk is null\n\n\n", "relation_name": null, "batch_results": null}, {"status": "success", "timing": [{"name": "compile", "started_at": "2026-01-02T19:45:40.541828Z", "completed_at": "2026-01-02T19:45:40.549553Z"}, {"name": "execute", "started_at": "2026-01-02T19:45:40.552556Z", "completed_at": "2026-01-02T19:45:40.552568Z"}], "thread_id": "Thread-3 (worker)", "execution_time": 0.02800917625427246, "adapter_response": {}, "message": null, "failures": null, "unique_id": "test.uspto_dbt.not_null_fct_assignment_bridge_patent_sk.146ab483a8", "compiled": true, "compiled_code": "\n    \n    \n\n\n\nselect patent_sk\nfrom USPTO_DB.ANALYTICS_analytics.fct_assignment_bridge\nwhere patent_sk is null\n\n\n", "relation_name": null, "batch_results": null}, {"status": "success", "timing": [{"name": "compile", "started_at": "2026-01-02T19:45:40.557374Z", "completed_at": "2026-01-02T19:45:40.580203Z"}, {"name": "execute", "started_at": "2026-01-02T19:45:40.581909Z", "completed_at": "2026-01-02T19:45:40.581922Z"}], "thread_id": "Thread-4 (worker)", "execution_time": 0.030117273330688477, "adapter_response": {}, "message": null, "failures": null, "unique_id": "test.uspto_dbt.relationships_fct_assignment_bridge_assignment_sk__assignment_sk__ref_dim_assignments_.069eaed539", "compiled": true, "compiled_code": "\n    \n    \n\nwith child as (\n    select assignment_sk as from_field\n    from USPTO_DB.ANALYTICS_analytics.fct_assignment_bridge\n    where assignment_sk is not null\n),\n\nparent as (\n    select assignment_sk as to_field\n    from USPTO_DB.ANALYTICS_analytics.dim_assignments\n)\n\nselect\n    from_field\n\nfrom child\nleft join parent\n    on child.from_field = parent.to_field\n\nwhere parent.to_field is null\n\n\n", "relation_name": null, "batch_results": null}, {"status": "success", "timing": [{"name": "compile", "started_at": "2026-01-02T19:45:40.565394Z", "completed_at": "2026-01-02T19:45:40.583016Z"}, {"name": "execute", "started_at": "2026-01-02T19:45:40.585595Z", "completed_at": "2026-01-02T19:45:40.585607Z"}], "thread_id": "Thread-1 (worker)", "execution_time": 0.029660701751708984, "adapter_response": {}, "message": null, "failures": null, "unique_id": "test.uspto_dbt.relationships_fct_assignment_bridge_patent_sk__patent_sk__ref_dim_patents_.179a6cd27f", "compiled": true, "compiled_code": "\n    \n    \n\nwith child as (\n    select patent_sk as from_field\n    from USPTO_DB.ANALYTICS_analytics.fct_assignment_bridge\n    where patent_sk is not null\n),\n\nparent as (\n    select patent_sk as to_field\n    from USPTO_DB.ANALYTICS_analytics.dim_patents\n)\n\nselect\n    from_field\n\nfrom child\nleft join parent\n    on child.from_field = parent.to_field\n\nwhere parent.to_field is null\n\n\n", "relation_name": null, "batch_results": null}, {"status": "success", "timing": [{"name": "compile", "started_at": "2026-01-02T19:45:40.576086Z", "completed_at": "2026-01-02T19:45:40.583702Z"}, {"name": "execute", "started_at": "2026-01-02T19:45:40.586542Z", "completed_at": "2026-01-02T19:45:40.586553Z"}], "thread_id": "Thread-3 (worker)", "execution_time": 0.023914813995361328, "adapter_response": {}, "message": null, "failures": null, "unique_id": "test.uspto_dbt.not_null_dim_assignees_assignee_name.ebb3352d95", "compiled": true, "compiled_code": "\n    \n    \n\n\n\nselect assignee_name\nfrom USPTO_DB.ANALYTICS_analytics.dim_assignees\nwhere assignee_name is null\n\n\n", "relation_name": null, "batch_results": null}, {"status": "success", "timing": [{"name": "compile", "started_at": "2026-01-02T19:45:40.570882Z", "completed_at": "2026-01-02T19:45:40.584940Z"}, {"name": "execute", "started_at": "2026-01-02T19:45:40.588042Z", "completed_at": "2026-01-02T19:45:40.588053Z"}], "thread_id": "Thread-2 (worker)", "execution_time": 0.03143787384033203, "adapter_response": {}, "message": null, "failures": null, "unique_id": "model.uspto_dbt.rpt_data_science_input", "compiled": true, "compiled_code": "\n\n/*\n    Report: rpt_data_science_input\n    Description: Denormalized view of the Star Schema for Data Science & Algorithmic use.\n    Contains: One row per Patent-Assignee-Assignment link.\n*/\n\nSELECT\n    -- 1. Patent Features\n    p.document_number,\n    p.document_date,\n    p.country,\n    p.kind_code,\n    p.invention_title,\n\n    -- 2. Assignee Features\n    a.assignee_name,\n    a.city AS assignee_city,\n    a.state AS assignee_state,\n    a.country AS assignee_country,\n\n    -- 3. Assignment Features (Transaction Metadata)\n    t.recorded_date,\n    t.conveyance_text,\n    t.reel_number,\n    t.frame_number,\n\n    -- 4. Calculated Features (e.g., Asset Age at time of transfer)\n    DATEDIFF('day', p.document_date, t.recorded_date) AS days_since_publication\n\nFROM USPTO_DB.ANALYTICS_analytics.fct_assignment_bridge AS f\n-- Join back to the Dimensions to fetch the text attributes\nINNER JOIN USPTO_DB.ANALYTICS_analytics.dim_patents AS p ON f.patent_sk = p.patent_sk\nINNER JOIN USPTO_DB.ANALYTICS_analytics.dim_assignees AS a ON f.assignee_sk = a.assignee_sk\nINNER JOIN\n    USPTO_DB.ANALYTICS_analytics.dim_assignments AS t\n    ON f.assignment_sk = t.assignment_sk", "relation_name": "USPTO_DB.ANALYTICS_analytics.rpt_data_science_input", "batch_results": null}, {"status": "success", "timing": [{"name": "compile", "started_at": "2026-01-02T19:45:40.592306Z", "completed_at": "2026-01-02T19:45:40.608332Z"}, {"name": "execute", "started_at": "2026-01-02T19:45:40.608981Z", "completed_at": "2026-01-02T19:45:40.608992Z"}], "thread_id": "Thread-4 (worker)", "execution_time": 0.021679162979125977, "adapter_response": {}, "message": null, "failures": null, "unique_id": "test.uspto_dbt.not_null_dim_assignees_assignee_sk.d6d977afc5", "compiled": true, "compiled_code": "\n    \n    \n\n\n\nselect assignee_sk\nfrom USPTO_DB.ANALYTICS_analytics.dim_assignees\nwhere assignee_sk is null\n\n\n", "relation_name": null, "batch_results": null}, {"status": "success", "timing": [{"name": "compile", "started_at": "2026-01-02T19:45:40.603153Z", "completed_at": "2026-01-02T19:45:40.609877Z"}, {"name": "execute", "started_at": "2026-01-02T19:45:40.610675Z", "completed_at": "2026-01-02T19:45:40.610686Z"}], "thread_id": "Thread-3 (worker)", "execution_time": 0.01912665367126465, "adapter_response": {}, "message": null, "failures": null, "unique_id": "test.uspto_dbt.unique_dim_assignees_assignee_sk.26de58aacc", "compiled": true, "compiled_code": "\n    \n    \n\nselect\n    assignee_sk as unique_field,\n    count(*) as n_records\n\nfrom USPTO_DB.ANALYTICS_analytics.dim_assignees\nwhere assignee_sk is not null\ngroup by assignee_sk\nhaving count(*) > 1\n\n\n", "relation_name": null, "batch_results": null}, {"status": "success", "timing": [{"name": "compile", "started_at": "2026-01-02T19:45:40.597981Z", "completed_at": "2026-01-02T19:45:40.611576Z"}, {"name": "execute", "started_at": "2026-01-02T19:45:40.612271Z", "completed_at": "2026-01-02T19:45:40.612283Z"}], "thread_id": "Thread-1 (worker)", "execution_time": 0.021360397338867188, "adapter_response": {}, "message": null, "failures": null, "unique_id": "test.uspto_dbt.relationships_fct_assignment_bridge_assignee_sk__assignee_sk__ref_dim_assignees_.216b1e7520", "compiled": true, "compiled_code": "\n    \n    \n\nwith child as (\n    select assignee_sk as from_field\n    from USPTO_DB.ANALYTICS_analytics.fct_assignment_bridge\n    where assignee_sk is not null\n),\n\nparent as (\n    select assignee_sk as to_field\n    from USPTO_DB.ANALYTICS_analytics.dim_assignees\n)\n\nselect\n    from_field\n\nfrom child\nleft join parent\n    on child.from_field = parent.to_field\n\nwhere parent.to_field is null\n\n\n", "relation_name": null, "batch_results": null}], "elapsed_time": 3.0663647651672363, "args": {"favor_state": false, "require_batched_execution_for_custom_microbatch_strategy": false, "log_format": "default", "state_modified_compare_vars": false, "warn_error_options": {"error": [], "warn": [], "silence": []}, "which": "generate", "cache_selected_only": false, "log_level_file": "debug", "empty_catalog": false, "indirect_selection": "eager", "require_all_warnings_handled_by_warn_error": false, "log_path": "transformation/uspto_dbt/logs", "require_generic_test_arguments_property": true, "state_modified_compare_more_unrendered_values": false, "version_check": true, "use_colors_file": true, "write_json": true, "log_file_max_bytes": 10485760, "compile": true, "profiles_dir": "/home/runner/.dbt", "require_nested_cumulative_type_params": false, "printer_width": 80, "require_explicit_package_overrides_for_builtin_materializations": true, "strict_mode": false, "macro_debugging": false, "log_format_file": "debug", "project_dir": "transformation/uspto_dbt", "show_all_deprecations": false, "partial_parse_file_diff": true, "defer": false, "partial_parse": true, "print": true, "introspect": true, "populate_cache": true, "require_yaml_configuration_for_mf_time_spines": false, "show_resource_report": false, "upload_to_artifacts_ingest_api": false, "exclude": [], "use_colors": true, "invocation_command": "dbt docs generate --project-dir transformation/uspto_dbt", "source_freshness_run_project_hooks": true, "vars": {}, "skip_nodes_if_on_run_start_fails": false, "static_parser": true, "static": false, "send_anonymous_usage_stats": true, "log_level": "info", "require_ref_searches_node_package_before_root": false, "require_resource_names_without_spaces": true, "require_unique_project_resource_names": false, "use_fast_test_edges": false, "validate_macro_args": false, "select": [], "quiet": false}}